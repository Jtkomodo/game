package gameEngine;
import org.lwjgl.system.Pointer.Default;
import org.joml.*;
import Data.Tiles;;

public class Map{
   private int[][] mapData;
   private Tiles[][] tileData;
   public static  boolean norenderR=true,norenderT=true,norenderL=true,norenderB=true;
   
   
   
   public Map(int[][] mapData){
    tileData= new Tiles[mapData.length][mapData[0].length];       
     this.mapData=mapData;
         for(int i=0;i<mapData.length;i++){
            for(int j=0;j<mapData[i].length;j++){
              // System.out.println(j+" "+i);
               switch(mapData[i][j]){
               
                   case 1:
                       tileData[j][i]=Tiles.Dirt;
                   break;
                       case 2:
                   tileData[j][i]=Tiles.Grassw;
                   break;
                   case 3:
                   tileData[j][i]=Tiles.Water;
                   break;
                   case 4:
                   tileData[j][i]=Tiles.Grass;
                   break;

                
                    }}}
         
          
         
   
   
   
   
   }

   public void Draw(gameEngine.Tiles t){
      int Mapwidth= tileData[0].length-1;
      int Mapheight=tileData.length;


      Tiles tile;


      i:for(int i=0;i<Mapwidth;i++) {
         j:for(int j=0;j<Mapheight;j++) {
            tile=tileData[i][j];
         	
            float Texwidth=256;
            float Texheight=256;		
            float wi=64;
            float h=64;
            float Texx=tile.getU();
            float Texy=tile.getV();		
            
            float[] uv={
                  Texx/Texwidth,Texy/Texheight,
                  (Texx+wi)/Texwidth,Texy/Texheight,
                  (Texx+wi)/Texwidth,(Texy+h)/Texheight,
                  Texx/Texwidth,(Texy+h)/Texheight
                  };
               
        
           
           t.getModel().changeUV(uv);
           
            t.setTranslation(new Vector2f(j,i));
            t.draw();
            if(!norenderR){
                 
                 break;
            }
            if(!norenderT){
                  return;
            }
            if(!norenderB){
               i--;
               continue i;
            
            }
            if(!norenderL){
            j++;
               continue j;
            }
            
         }
         
      }
      }




   }
